"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[824],{824:function(e,t,r){r.r(t),r.d(t,{default:function(){return g}});var n=r(439),a=r(791),i=r(758),s=r(689),o=r(87),c=r(108),u="MovieDetails_box__G7Whn",p="MovieDetails_view__p8djP",l="MovieDetails_desc__h+2F3",v="MovieDetails_details__-8Cxp",d="MovieDetails_dataList__VngzV",h="MovieDetails_linkBack__DU74h",f=r(332),m=r(184),g=function(){var e,t,r=(0,s.UO)().movieId,g=(0,a.useState)([]),_=(0,n.Z)(g,2),x=_[0],j=_[1],w=(0,a.useState)(""),b=(0,n.Z)(w,2),y=b[0],k=b[1],M=(0,a.useState)(""),Z=(0,n.Z)(M,2),D=Z[0],S=Z[1],R=(0,a.useState)(""),N=(0,n.Z)(R,2),O=N[0],P=N[1],C=(0,a.useState)([]),F=(0,n.Z)(C,2),U=F[0],E=F[1],T=(0,a.useState)([]),A=(0,n.Z)(T,2),G=A[0],I=A[1],J=(0,a.useState)(""),V=(0,n.Z)(J,2),q=V[0],z=V[1],B=(0,a.useState)(""),H=(0,n.Z)(B,2),L=H[0],W=H[1],Y=(0,a.useState)(!1),K=(0,n.Z)(Y,2),Q=K[0],X=K[1],$=(0,a.useState)(null),ee=(0,n.Z)($,2),te=ee[0],re=ee[1],ne=(0,s.TH)(),ae=(0,a.useRef)(null!==(e=null===(t=ne.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/");(0,a.useEffect)((function(){X(!0),i.E.getMovieDetails(r).then((function(e){var t=e.genres,r=e.vote_average,n=e.release_date,a=e.production_countries,i=e.production_companies,s=e.poster_path,o=e.overview,c=e.title;j(t),W(r),z(n),I(a),E(i),P(s),S(o),k(c)})).catch((function(e){ie(),re(e)})).finally((function(){X(!1)}))}),[r]);var ie=function(){j([]),k(""),S(""),P(""),E([]),I([]),z(""),W("")},se=function(){return(0,m.jsxs)("div",{className:u,children:[(0,m.jsx)("div",{className:p,children:(0,m.jsx)("img",{src:O,alt:y})}),(0,m.jsxs)("div",{className:"data",children:[(0,m.jsx)(o.rU,{to:ae.current,className:h,children:"< Go back"}),(0,m.jsxs)("h1",{children:[y,(0,m.jsx)("span",{children:L})]}),(0,m.jsx)("p",{className:l,children:D}),(0,m.jsxs)("ul",{className:d,children:[(0,m.jsxs)("li",{children:[(0,m.jsx)("strong",{children:"Genres"}),": ",x.join(", ")]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("strong",{children:"Companies"}),": ",U.join(", ")]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("strong",{children:"Countries"}),": ",G.join(", ")]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("strong",{children:"Release"}),": ",q]})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)("ul",{className:v,children:[(0,m.jsx)("li",{children:(0,m.jsx)(o.rU,{to:"cast?id=".concat(r),children:"Actors"})}),(0,m.jsx)("li",{children:(0,m.jsx)(o.rU,{to:"reviews?id=".concat(r),children:"Reviews"})})]}),(0,m.jsx)(a.Suspense,{fallback:(0,m.jsx)(c.Z,{}),children:(0,m.jsx)(s.j3,{})})]})]})};return(0,m.jsxs)(m.Fragment,{children:[Q&&(0,m.jsx)(c.Z,{}),(0,m.jsx)("div",{children:te?(0,m.jsx)(f.Z,{children:"I'm sorry. Something happened wrong"}):(0,m.jsx)(se,{})})]})}},758:function(e,t,r){function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(u){return void r(u)}o.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var s=e.apply(t,r);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))}}r.d(t,{E:function(){return b}});var i=r(144),s=r(671);function o(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var c=0;function u(e){return"__private_"+c+++"_"+e}var p=r(757),l=r.n(p),v=function(e){var t=new Date(e);return"".concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())},d=u("transformTrending"),h=u("transformMovieDetails"),f=u("transformCredits"),m=u("transformMovieReviews"),g=(0,i.Z)((function e(){var t=this;(0,s.Z)(this,e),Object.defineProperty(this,m,{value:w}),Object.defineProperty(this,f,{value:j}),Object.defineProperty(this,h,{value:x}),Object.defineProperty(this,d,{value:_}),this.getResource=function(){var e=a(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.themoviedb.org/3").concat(t,"api_key=").concat("221af12348c3ca060963c8b12f5995d3"));case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getTrending=a(l().mark((function e(){var r,n,a=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:1,e.next=3,t.getResource("/trending/movie/day?page=".concat(r,"&"));case 3:return n=e.sent,e.abrupt("return",o(t,d)[d](n));case 5:case"end":return e.stop()}}),e)}))),this.searchMovies=function(){var e=a(l().mark((function e(r){var n,a,i=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:1,e.next=3,t.getResource("/search/movie?query=".concat(r,"&page=").concat(n,"&"));case 3:return a=e.sent,e.abrupt("return",o(t,d)[d](a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getMovieDetails=function(){var e=a(l().mark((function e(r){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/movie/".concat(r,"?"));case 2:return n=e.sent,e.abrupt("return",o(t,h)[h](n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getMovieCredits=function(){var e=a(l().mark((function e(r){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/movie/".concat(r,"/credits?"));case 2:return n=e.sent,e.abrupt("return",o(t,f)[f](n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getMovieReviews=function(){var e=a(l().mark((function e(r){var n,a,i=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:1,e.next=3,t.getResource("/movie/".concat(r,"/reviews?page=").concat(n,"&"));case 3:return a=e.sent,e.abrupt("return",o(t,m)[m](a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}));function _(e){var t=e.results,r=e.total_results,n=t.map((function(e){var t=e.id,r=e.title,n=e.poster_path;return{movieId:t,title:r,poster_path:n?"https://image.tmdb.org/t/p/w500"+n:"/goit-react-hw-05-movies/img/noimage.jpg",vote_average:e.vote_average.toFixed(2)}}));return{results:n,total_results:r}}function x(e){var t=e.genres,r=e.overview,n=e.poster_path,a=e.production_companies,i=e.production_countries,s=e.release_date,o=e.title,c=e.vote_average;return{genres:t.map((function(e){return e.name})),overview:r,poster_path:n?"https://image.tmdb.org/t/p/w500"+n:"goit-react-hw-05-movies/img/noimage.jpg",production_companies:a.map((function(e){return e.name})),production_countries:i.map((function(e){return e.name})),release_date:v(s),title:o,vote_average:c.toFixed(2)}}function j(e){return e.cast.map((function(e){var t=e.character,r=e.name,n=e.profile_path;return{id:e.id,character:t,name:r,profile_path:n?"https://image.tmdb.org/t/p/w500"+n:"/goit-react-hw-05-movies/img/noimage.jpg"}}))}function w(e){return e.results.map((function(e){var t=e.author,r=e.author_details.avatar_path,n=e.content,a=e.created_at,i=e.updated_at,s=e.url,o=e.id;return{author:t,avatar_path:r?r.includes("http")?r.slice(1):"https://image.tmdb.org/t/p/w500"+r:"/goit-react-hw-05-movies/img/noimage.jpg",content:n,created_at:v(a),updated_at:v(i),url:s,id:o}}))}var b=new g}}]);
//# sourceMappingURL=824.be893b71.chunk.js.map