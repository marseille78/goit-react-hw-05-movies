"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[148],{304:function(e,t,r){r.d(t,{Z:function(){return o}});var n="button_box__G5-o2",a=r(184),o=function(e){var t=e.children,r=e.onClick;return(0,a.jsx)("div",{className:n,onClick:r,children:t})}},88:function(e,t,r){r.d(t,{Z:function(){return p}});var n=r(87),a="movieItem_box__0hb3C",o="movieItem_poster__heAE8",i="movieItem_info__XEdge",c="movieItem_title__FMZpK",u="movieItem_rating__632dv",s=r(184),p=function(e){var t=e.data,r=t.movieId,p=t.poster_path,v=t.title,h=t.vote_average;return(0,s.jsxs)(n.rU,{to:"/movies/".concat(r),className:a,children:[(0,s.jsx)("div",{className:o,children:(0,s.jsx)("img",{src:p,alt:v})}),(0,s.jsxs)("div",{className:i,children:[(0,s.jsx)("span",{className:u,children:h}),(0,s.jsx)("h3",{className:c,children:v})]})]})}},148:function(e,t,r){r.r(t);var n=r(433),a=r(439),o=r(87),i=r(791),c=r(758),u=r(88),s=r(273),p=r(304),v=r(184);t.default=function(){var e=(0,o.lr)(),t=(0,a.Z)(e,1)[0].get("search"),r=(0,i.useState)(1),h=(0,a.Z)(r,2),f=h[0],l=h[1],m=(0,i.useState)([]),d=(0,a.Z)(m,2),g=d[0],_=d[1],w=(0,i.useState)(0),x=(0,a.Z)(w,2),b=x[0],j=x[1],y=(0,i.useState)(!1),k=(0,a.Z)(y,2),Z=k[0],M=k[1],C=(0,i.useState)(null),I=(0,a.Z)(C,2),N=I[0],R=I[1];(0,i.useEffect)((function(){M(!0),c.E.searchMovies(t,f).then((function(e){var t=e.results,r=e.total_results;j(r),_((function(e){return[].concat((0,n.Z)(e),(0,n.Z)(t))}))})).catch((function(e){R(e)})).finally((function(){M(!1)}))}),[f,t]);var O=g.map((function(e){return(0,v.jsx)(u.Z,{data:e},e.movieId)})),P=Z&&(0,v.jsx)(s.Z,{}),S=N?(0,v.jsx)("h2",{children:N.message}):O,E=!N&&g.length>0&&g.length<b&&(0,v.jsx)(p.Z,{onClick:function(){return l((function(e){return e+1}))},children:"Load more"});return(0,v.jsxs)(v.Fragment,{children:[P,(0,v.jsxs)("h1",{children:['Searched by "',t,'"']}),(0,v.jsx)("div",{className:"listMovies",children:S}),E]})}},758:function(e,t,r){function n(e,t,r,n,a,o,i){try{var c=e[o](i),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,o){var i=e.apply(t,r);function c(e){n(i,a,o,c,u,"next",e)}function u(e){n(i,a,o,c,u,"throw",e)}c(void 0)}))}}r.d(t,{E:function(){return j}});var o=r(144),i=r(671);function c(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var u=0;function s(e){return"__private_"+u+++"_"+e}var p=r(757),v=r.n(p),h=function(e){var t=new Date(e);return"".concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())},f=s("transformTrending"),l=s("transformMovieDetails"),m=s("transformCredits"),d=s("transformMovieReviews"),g=(0,o.Z)((function e(){var t=this;(0,i.Z)(this,e),Object.defineProperty(this,d,{value:b}),Object.defineProperty(this,m,{value:x}),Object.defineProperty(this,l,{value:w}),Object.defineProperty(this,f,{value:_}),this.getResource=function(){var e=a(v().mark((function e(t){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.themoviedb.org/3").concat(t,"api_key=").concat("221af12348c3ca060963c8b12f5995d3"));case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getTrending=a(v().mark((function e(){var r,n,a=arguments;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:1,e.next=3,t.getResource("/trending/movie/day?page=".concat(r,"&"));case 3:return n=e.sent,e.abrupt("return",c(t,f)[f](n));case 5:case"end":return e.stop()}}),e)}))),this.searchMovies=function(){var e=a(v().mark((function e(r){var n,a,o=arguments;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:1,e.next=3,t.getResource("/search/movie?query=".concat(r,"&page=").concat(n,"&"));case 3:return a=e.sent,e.abrupt("return",c(t,f)[f](a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getMovieDetails=function(){var e=a(v().mark((function e(r){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/movie/".concat(r,"?"));case 2:return n=e.sent,e.abrupt("return",c(t,l)[l](n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getMovieCredits=function(){var e=a(v().mark((function e(r){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/movie/".concat(r,"/credits?"));case 2:return n=e.sent,e.abrupt("return",c(t,m)[m](n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getMovieReviews=function(){var e=a(v().mark((function e(r){var n,a,o=arguments;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:1,e.next=3,t.getResource("/movie/".concat(r,"/reviews?page=").concat(n,"&"));case 3:return a=e.sent,e.abrupt("return",c(t,d)[d](a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}));function _(e){var t=e.results,r=e.total_results,n=t.map((function(e){var t=e.id,r=e.title,n=e.poster_path;return{movieId:t,title:r,poster_path:n?"https://image.tmdb.org/t/p/w500"+n:"/goit-react-hw-05-movies/img/noimage.jpg",vote_average:e.vote_average.toFixed(2)}}));return{results:n,total_results:r}}function w(e){var t=e.genres,r=e.overview,n=e.poster_path,a=e.production_companies,o=e.production_countries,i=e.release_date,c=e.title,u=e.vote_average;return{genres:t.map((function(e){return e.name})),overview:r,poster_path:n?"https://image.tmdb.org/t/p/w500"+n:"goit-react-hw-05-movies/img/noimage.jpg",production_companies:a.map((function(e){return e.name})),production_countries:o.map((function(e){return e.name})),release_date:h(i),title:c,vote_average:u.toFixed(2)}}function x(e){return e.cast.map((function(e){var t=e.character,r=e.name,n=e.profile_path;return{id:e.id,character:t,name:r,profile_path:n?"https://image.tmdb.org/t/p/w500"+n:"/goit-react-hw-05-movies/img/noimage.jpg"}}))}function b(e){return e.results.map((function(e){var t=e.author,r=e.author_details.avatar_path,n=e.content,a=e.created_at,o=e.updated_at,i=e.url,c=e.id;return{author:t,avatar_path:r?r.includes("http")?r.slice(1):"https://image.tmdb.org/t/p/w500"+r:"/goit-react-hw-05-movies/img/noimage.jpg",content:n,created_at:h(a),updated_at:h(o),url:i,id:c}}))}var j=new g}}]);
//# sourceMappingURL=148.5d06bf65.chunk.js.map